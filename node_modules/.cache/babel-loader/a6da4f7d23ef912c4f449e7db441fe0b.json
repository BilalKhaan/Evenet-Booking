{"remainingRequest":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/babel-loader/lib/index.js!/Volumes/Bilal/projects/Evenet-Booking/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/Bilal/projects/Evenet-Booking/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/Bilal/projects/Evenet-Booking/src/views/Billing.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/Bilal/projects/Evenet-Booking/src/views/Billing.vue","mtime":1663832052902},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/cache-loader/dist/cjs.js","mtime":1663832089485},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/babel-loader/lib/index.js","mtime":1663832089469},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/cache-loader/dist/cjs.js","mtime":1663832089485},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/vue-loader-v16/dist/index.js","mtime":1663832124203}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHt9LAogICAgICBkaXNhYmVsZWQ6IGZhbHNlLAogICAgICBhdHRlbmRlczogW3sKICAgICAgICBuYW1lOiAnJwogICAgICB9XQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEV2ZW50cygpOwogIH0sCgogIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoewogICAgICBldmVudHM6ICdldmVudHNMaXN0JwogICAgfSksCgogICAgZXZlbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5maW5kKGUgPT4gZS5pZCA9PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgfSwKCiAgICBuYW1lRXJyb3IoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0ubmFtZSkgewogICAgICAgIHJldHVybiAvWzAtOV0vLnRlc3QodGhpcy5mb3JtLm5hbWUpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIGVtYWlsRXJyb3IoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0uZW1haWwpIHsKICAgICAgICByZXR1cm4gIS9eXHcrKFtcLi1dP1x3KykqQFx3KyhbXC4tXT9cdyspKihcLlx3ezIsM30pKyQvLnRlc3QodGhpcy5mb3JtLmVtYWlsKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKCiAgICBwaG9uZUVycm9yKCkgewogICAgICBpZiAodGhpcy5mb3JtLnBob25lKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5waG9uZS5sZW5ndGggPiAxMzsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyh7CiAgICAgIGZldGNoRXZlbnRzOiAnZmV0Y2hFdmVudHMnCiAgICB9KSwKCiAgICBhZGRBdHRlbmRlKCkgewogICAgICBpZiAodGhpcy5hdHRlbmRlcy5sZW5ndGggPD0gdGhpcy5ldmVudC50aWNrZXRzKSB7CiAgICAgICAgaWYgKHRoaXMuYXR0ZW5kZXNbdGhpcy5hdHRlbmRlcy5sZW5ndGggLSAxXS5uYW1lKSB7CiAgICAgICAgICB0aGlzLmF0dGVuZGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZGlzYWJlbGVkID0gdHJ1ZTsKICAgICAgICAgIGFsZXJ0KCdwbGVhc2UgZmlsbCBsYXN0IGF0dGVuZGUgTmFtZScpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpc2FiZWxlZCA9IHRydWU7CiAgICAgICAgYWxlcnQoJ05vIEVub3VnaCBUaWNrZXRzJyk7CiAgICAgIH0KICAgIH0sCgogICAgYm9vaygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5hdHRlbmRlcyk7CgogICAgICBpZiAoIXRoaXMubmFtZUVycm9yICYmICF0aGlzLmVtYWlsICYmIHRoaXMuYXR0ZW5kZXMubWFwKGEgPT4gYS5uYW1lID09ICcnKS5pbmNsdWRlcyhmYWxzZSkpIHsKICAgICAgICBhbGVydCgneW91ciB0aWNrZXRzIGhhdmUgYmVlbiBib29rZWQnKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCdGaWxsIHJlZCAqIGZpZWxkcycpOwogICAgICB9CiAgICB9LAoKICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["/Volumes/Bilal/projects/Evenet-Booking/src/views/Billing.vue"],"names":[],"mappings":"AA8EA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,eAAe;AACb,EAAA,IAAG,GAAK;AACN,WAAO;AACL,MAAA,IAAI,EAAE,EADD;AAEL,MAAA,SAAS,EAAE,KAFN;AAGL,MAAA,QAAQ,EAAE,CAAC;AACT,QAAA,IAAI,EAAE;AADG,OAAD;AAHL,KAAP;AAOD,GATY;;AAUb,EAAA,OAAM,GAAK;AACT,SAAK,WAAL;AACD,GAZY;;AAab,EAAA,QAAQ,EAAE,EACR,GAAG,UAAU,CAAC;AACZ,MAAA,MAAM,EAAE;AADI,KAAD,CADL;;AAKR,IAAA,KAAI,GAAK;AACP,aAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,CAAA,IAAK,CAAC,CAAC,EAAF,IAAQ,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAAjD,CAAP;AACD,KAPO;;AAQR,IAAA,SAAQ,GAAK;AACX,UAAG,KAAK,IAAL,CAAU,IAAb,EAAmB;AACjB,eAAO,QAAQ,IAAR,CAAa,KAAK,IAAL,CAAU,IAAvB,CAAP;AACF;;AACA,aAAO,KAAP;AACD,KAbO;;AAcR,IAAA,UAAS,GAAK;AACZ,UAAG,KAAK,IAAL,CAAU,KAAb,EAAoB;AAClB,eAAO,CAAE,gDAAgD,IAAhD,CAAqD,KAAK,IAAL,CAAU,KAA/D,CAAT;AACF;;AACA,aAAO,KAAP;AACD,KAnBO;;AAoBR,IAAA,UAAS,GAAK;AACZ,UAAG,KAAK,IAAL,CAAU,KAAb,EAAoB;AAClB,eAAO,KAAK,IAAL,CAAU,KAAV,CAAgB,MAAhB,GAAyB,EAAhC;AACF;;AACA,aAAO,KAAP;AACF;;AAzBQ,GAbG;AAwCb,EAAA,OAAO,EAAE,EACP,GAAG,UAAU,CAAC;AACZ,MAAA,WAAW,EAAE;AADD,KAAD,CADN;;AAIP,IAAA,UAAS,GAAK;AACZ,UAAG,KAAK,QAAL,CAAc,MAAd,IAAwB,KAAK,KAAL,CAAW,OAAtC,EAA+C;AAC7C,YAAG,KAAK,QAAL,CAAc,KAAK,QAAL,CAAc,MAAd,GAAqB,CAAnC,EAAsC,IAAzC,EAA+C;AAC7C,eAAK,QAAL,CAAc,IAAd,CAAmB;AACjB,YAAA,IAAI,EAAE;AADW,WAAnB;AAGF,SAJA,MAIO;AACL,eAAK,SAAL,GAAiB,IAAjB;AACA,UAAA,KAAK,CAAC,+BAAD,CAAL;AACF;AACF,OATA,MASO;AACL,aAAK,SAAL,GAAiB,IAAjB;AACA,QAAA,KAAK,CAAC,mBAAD,CAAL;AACF;AACD,KAlBM;;AAmBP,IAAA,IAAG,GAAK;AACN,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,QAAjB;;AACA,UAAG,CAAC,KAAK,SAAN,IAAmB,CAAC,KAAK,KAAzB,IAAkC,KAAK,QAAL,CAAc,GAAd,CAAkB,CAAA,IAAK,CAAC,CAAC,IAAF,IAAU,EAAjC,EAAqC,QAArC,CAA8C,KAA9C,CAArC,EAA2F;AACzF,QAAA,KAAK,CAAC,+BAAD,CAAL;AACA,aAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACF,OAHA,MAGO;AACL,QAAA,KAAK,CAAC,mBAAD,CAAL;AACF;AACD,KA3BM;;AA4BP,IAAA,MAAK,GAAK;AACR,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACF;;AA9BO;AAxCI,CAAf","sourcesContent":["<template>\n  <div class=\"billing\">\n    <div class=\"billing--container\">\n      <div class=\"billing--theme\">\n        <span class=\"title\"> {{ event.title}} </span>\n      </div>\n      <div class=\"billing--theme mt-4 mb-2\">\n        <span class=\"date-ticket\"> {{ event.date }} </span>\n      </div>\n      <div class=\"billing--theme\">\n        <span class=\"date-ticket\">Tickets Available: <span class=\"ticket--count\"> {{ event.tickets }} </span></span>\n      </div>\n      <div class=\"billing--divider mt-4\"></div>\n      <div class=\"form mt-8\">\n        <!-- Name -->\n        <div class=\"billing--theme label\">\n          <label> Name </label> <span style=\"color:red\">*</span>\n            <input \n              type=\"text\"\n              required\n              class=\"billing--input mt-2\"\n              v-model=\"form.name\"\n              placeholder=\"First Name Last Name\" />\n            <i v-if=\"nameError\"><span style=\"color:red\"> Invalid Name </span></i>  \n        </div>\n        <!-- Email -->\n        <div class=\"billing--theme label mt-8\">\n          <label> Email </label> <span style=\"color:red\">*</span>\n          <input \n            type=\"email\"\n            required\n            class=\"billing--input mt-2\"\n            v-model=\"form.email\"\n            placeholder=\"mbilalanjummba@gmail.com\" />\n          <i v-if=\"emailError\"><span style=\"color:red\"> Invalid Email </span></i>  \n        </div>\n        <!-- phone -->\n        <div class=\"billing--theme label mt-8\">\n          <label> Phone </label>\n          <input \n            type=\"number\"\n            class=\"billing--input mt-2\"\n            v-model=\"form.phone\"\n            placeholder=\"+923075376602\" />\n          <i v-if=\"phoneError\"><span style=\"color:red\"> Invalid Phone Number </span></i>  \n        </div>\n        <div class=\"billing--theme label mt-8\">\n          <label> Attende </label>\n        </div>\n        <div \n          class=\"flex justify-between align-center billing--theme label mt-3\"\n          v-for=\"(attende, index) in attendes\"\n          :key=\"index\">\n          <label>{{ index + 1 }} </label> <span style=\"color:red\">*</span>\n          <input \n            type=\"text\"\n            class=\"billing--input attende mt-2\"\n            v-model=\"attende.name\"\n            placeholder=\"First Name Last Name\" />\n        </div>\n        <div class=\"flex justify-end align-center my-3\">\n          <img src=\"../assets/add.png\" alt=\"add\" class=\"mr-2 cp\" @click=\"addAttende\" />\n          <span class=\"billing--theme add cp\" @click=\"addAttende\">Add Attende </span>\n        </div>\n        <div class=\"billing--divider mt-8\"></div>\n        <div class=\"flex justify-between align-center mt-8\">\n          <div :disabled=\"disabeled || nameError || emailError\" class=\"cp button button--primary\" @click=\"book\">\n            Book Tickets\n          </div>\n          <div class=\"cp button button--cancel\" @click=\"cancel\">\n            Cancel\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nexport default {\n  data () {\n    return {\n      form: {},\n      disabeled: false,\n      attendes: [{\n        name: ''\n      }]\n    }\n  },\n  created () {\n    this.fetchEvents()\n  },\n  computed: {\n    ...mapGetters({\n      events: 'eventsList'\n    }),\n\n    event () {\n      return this.events.find(e => e.id == this.$route.params.id)\n    },\n    nameError () {\n      if(this.form.name) {\n        return /[0-9]/.test(this.form.name)\n      }\n      return false\n    },\n    emailError () {\n      if(this.form.email) {\n        return !(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.form.email))\n      }\n      return false\n    },\n    phoneError () {\n      if(this.form.phone) {\n        return this.form.phone.length > 13\n      }\n      return false\n    }\n  },\n  methods: {\n    ...mapActions({\n      fetchEvents: 'fetchEvents'\n    }),\n    addAttende () {\n      if(this.attendes.length <= this.event.tickets) {\n        if(this.attendes[this.attendes.length-1].name) {\n          this.attendes.push({\n            name: ''\n          })\n        } else {\n          this.disabeled = true\n          alert('please fill last attende Name')\n        }\n      } else {\n        this.disabeled = true\n        alert('No Enough Tickets')\n      }\n    },\n    book () {\n      console.log(this.attendes)\n      if(!this.nameError && !this.email && this.attendes.map(a => a.name == '').includes(false)) {\n        alert('your tickets have been booked')\n        this.$router.push('/')\n      } else {\n        alert('Fill red * fields')\n      }\n    },\n    cancel () {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n<style scoped>\n.billing {\n  display: flex;\n  justify-content: center;\n}\n.billing--container {\n  background: #FFFFFF;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  margin-top: 56px;\n  margin-bottom: 56px;\n  padding: 32px;\n  width: 510px;\n}\n.billing--theme {\n  font-style: normal;\n  text-align: center;\n  text-transform: capitalize;\n  color: #212121;\n}\n.title {\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 27px;\n}\n.date-ticket {\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 20px;\n}\n.ticket--count {\n  color: #FC732F;\n}\n.billing--divider {\n  width: 100%;\n  border: 1px solid #D5D5D5;\n}\n.label {\n  text-align: left;\n}\n.billing--input {\n  border: 1px solid #D5D5D5;\n  box-sizing: border-box;\n  border-radius: 4px;\n  padding: 16px;\n  width: 100%;\n}\n.billing--input::placeholder {\n  font-style: normal;\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 20px;\n  text-transform: capitalize;\n  color: #999999;\n}\n.attende {\n  width: 90%;\n}\n.add {\n  font-weight: bold;\n  color: #FC732F;\n}\n.button {\n  border-radius: 4px;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 18px;\n  text-transform: capitalize;\n  padding: 16px 71px;\n}\n.button--primary {\n  background: #FC732F;\n  border: 2px solid #FC732F;\n  color: #FFFFFF; \n}\n.button--cancel {\n  background: #FFFFFF;\n  border: 2px solid #FC732F;\n  color: #FC732F; \n}\n</style>"],"sourceRoot":""}]}