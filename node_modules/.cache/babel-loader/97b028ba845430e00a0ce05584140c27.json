{"remainingRequest":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/thread-loader/dist/cjs.js!/Volumes/Bilal/projects/Evenet-Booking/node_modules/babel-loader/lib/index.js!/Volumes/Bilal/projects/Evenet-Booking/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Volumes/Bilal/projects/Evenet-Booking/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Volumes/Bilal/projects/Evenet-Booking/src/views/Billing.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/Bilal/projects/Evenet-Booking/src/views/Billing.vue","mtime":1663832052902},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/cache-loader/dist/cjs.js","mtime":1659882916460},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/thread-loader/dist/cjs.js","mtime":1661343193573},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/babel-loader/lib/index.js","mtime":1660210091678},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/cache-loader/dist/cjs.js","mtime":1659882916460},{"path":"/Volumes/Bilal/projects/Evenet-Booking/node_modules/vue-loader-v16/dist/index.js","mtime":1663848562654}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHt9LAogICAgICBkaXNhYmVsZWQ6IGZhbHNlLAogICAgICBhdHRlbmRlczogW3sKICAgICAgICBuYW1lOiAnJwogICAgICB9XQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEV2ZW50cygpOwogIH0sCgogIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoewogICAgICBldmVudHM6ICdldmVudHNMaXN0JwogICAgfSksCgogICAgZXZlbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5maW5kKGUgPT4gZS5pZCA9PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgfSwKCiAgICBuYW1lRXJyb3IoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0ubmFtZSkgewogICAgICAgIHJldHVybiAvWzAtOV0vLnRlc3QodGhpcy5mb3JtLm5hbWUpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIGVtYWlsRXJyb3IoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0uZW1haWwpIHsKICAgICAgICByZXR1cm4gIS9eXHcrKFtcLi1dP1x3KykqQFx3KyhbXC4tXT9cdyspKihcLlx3ezIsM30pKyQvLnRlc3QodGhpcy5mb3JtLmVtYWlsKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKCiAgICBwaG9uZUVycm9yKCkgewogICAgICBpZiAodGhpcy5mb3JtLnBob25lKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5waG9uZS5sZW5ndGggPiAxMzsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyh7CiAgICAgIGZldGNoRXZlbnRzOiAnZmV0Y2hFdmVudHMnCiAgICB9KSwKCiAgICBhZGRBdHRlbmRlKCkgewogICAgICBpZiAodGhpcy5hdHRlbmRlcy5sZW5ndGggPD0gdGhpcy5ldmVudC50aWNrZXRzKSB7CiAgICAgICAgaWYgKHRoaXMuYXR0ZW5kZXNbdGhpcy5hdHRlbmRlcy5sZW5ndGggLSAxXS5uYW1lKSB7CiAgICAgICAgICB0aGlzLmF0dGVuZGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZGlzYWJlbGVkID0gdHJ1ZTsKICAgICAgICAgIGFsZXJ0KCdwbGVhc2UgZmlsbCBsYXN0IGF0dGVuZGUgTmFtZScpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRpc2FiZWxlZCA9IHRydWU7CiAgICAgICAgYWxlcnQoJ05vIEVub3VnaCBUaWNrZXRzJyk7CiAgICAgIH0KICAgIH0sCgogICAgYm9vaygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5hdHRlbmRlcyk7CgogICAgICBpZiAoIXRoaXMubmFtZUVycm9yICYmICF0aGlzLmVtYWlsICYmIHRoaXMuYXR0ZW5kZXMubWFwKGEgPT4gYS5uYW1lID09ICcnKS5pbmNsdWRlcyhmYWxzZSkpIHsKICAgICAgICBhbGVydCgneW91ciB0aWNrZXRzIGhhdmUgYmVlbiBib29rZWQnKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCdGaWxsIHJlZCAqIGZpZWxkcycpOwogICAgICB9CiAgICB9LAoKICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AA8EA,SAASA,UAAT,EAAqBC,UAArB,QAAuC,MAAvC;AACA,eAAe;EACbC,IAAG,GAAK;IACN,OAAO;MACLC,IAAI,EAAE,EADD;MAELC,SAAS,EAAE,KAFN;MAGLC,QAAQ,EAAE,CAAC;QACTC,IAAI,EAAE;MADG,CAAD;IAHL,CAAP;EAOD,CATY;;EAUbC,OAAM,GAAK;IACT,KAAKC,WAAL;EACD,CAZY;;EAabC,QAAQ,EAAE,EACR,GAAGR,UAAU,CAAC;MACZS,MAAM,EAAE;IADI,CAAD,CADL;;IAKRC,KAAI,GAAK;MACP,OAAO,KAAKD,MAAL,CAAYE,IAAZ,CAAiBC,KAAKA,CAAC,CAACC,EAAF,IAAQ,KAAKC,MAAL,CAAYC,MAAZ,CAAmBF,EAAjD,CAAP;IACD,CAPO;;IAQRG,SAAQ,GAAK;MACX,IAAG,KAAKd,IAAL,CAAUG,IAAb,EAAmB;QACjB,OAAO,QAAQY,IAAR,CAAa,KAAKf,IAAL,CAAUG,IAAvB,CAAP;MACF;;MACA,OAAO,KAAP;IACD,CAbO;;IAcRa,UAAS,GAAK;MACZ,IAAG,KAAKhB,IAAL,CAAUiB,KAAb,EAAoB;QAClB,OAAO,CAAE,gDAAgDF,IAAhD,CAAqD,KAAKf,IAAL,CAAUiB,KAA/D,CAAT;MACF;;MACA,OAAO,KAAP;IACD,CAnBO;;IAoBRC,UAAS,GAAK;MACZ,IAAG,KAAKlB,IAAL,CAAUmB,KAAb,EAAoB;QAClB,OAAO,KAAKnB,IAAL,CAAUmB,KAAV,CAAgBC,MAAhB,GAAyB,EAAhC;MACF;;MACA,OAAO,KAAP;IACF;;EAzBQ,CAbG;EAwCbC,OAAO,EAAE,EACP,GAAGxB,UAAU,CAAC;MACZQ,WAAW,EAAE;IADD,CAAD,CADN;;IAIPiB,UAAS,GAAK;MACZ,IAAG,KAAKpB,QAAL,CAAckB,MAAd,IAAwB,KAAKZ,KAAL,CAAWe,OAAtC,EAA+C;QAC7C,IAAG,KAAKrB,QAAL,CAAc,KAAKA,QAAL,CAAckB,MAAd,GAAqB,CAAnC,EAAsCjB,IAAzC,EAA+C;UAC7C,KAAKD,QAAL,CAAcsB,IAAd,CAAmB;YACjBrB,IAAI,EAAE;UADW,CAAnB;QAGF,CAJA,MAIO;UACL,KAAKF,SAAL,GAAiB,IAAjB;UACAwB,KAAK,CAAC,+BAAD,CAAL;QACF;MACF,CATA,MASO;QACL,KAAKxB,SAAL,GAAiB,IAAjB;QACAwB,KAAK,CAAC,mBAAD,CAAL;MACF;IACD,CAlBM;;IAmBPC,IAAG,GAAK;MACNC,OAAO,CAACC,GAAR,CAAY,KAAK1B,QAAjB;;MACA,IAAG,CAAC,KAAKY,SAAN,IAAmB,CAAC,KAAKG,KAAzB,IAAkC,KAAKf,QAAL,CAAc2B,GAAd,CAAkBC,KAAKA,CAAC,CAAC3B,IAAF,IAAU,EAAjC,EAAqC4B,QAArC,CAA8C,KAA9C,CAArC,EAA2F;QACzFN,KAAK,CAAC,+BAAD,CAAL;QACA,KAAKO,OAAL,CAAaR,IAAb,CAAkB,GAAlB;MACF,CAHA,MAGO;QACLC,KAAK,CAAC,mBAAD,CAAL;MACF;IACD,CA3BM;;IA4BPQ,MAAK,GAAK;MACR,KAAKD,OAAL,CAAaR,IAAb,CAAkB,GAAlB;IACF;;EA9BO;AAxCI,CAAf","names":["mapActions","mapGetters","data","form","disabeled","attendes","name","created","fetchEvents","computed","events","event","find","e","id","$route","params","nameError","test","emailError","email","phoneError","phone","length","methods","addAttende","tickets","push","alert","book","console","log","map","a","includes","$router","cancel"],"sourceRoot":"","sources":["/Volumes/Bilal/projects/Evenet-Booking/src/views/Billing.vue"],"sourcesContent":["<template>\n  <div class=\"billing\">\n    <div class=\"billing--container\">\n      <div class=\"billing--theme\">\n        <span class=\"title\"> {{ event.title}} </span>\n      </div>\n      <div class=\"billing--theme mt-4 mb-2\">\n        <span class=\"date-ticket\"> {{ event.date }} </span>\n      </div>\n      <div class=\"billing--theme\">\n        <span class=\"date-ticket\">Tickets Available: <span class=\"ticket--count\"> {{ event.tickets }} </span></span>\n      </div>\n      <div class=\"billing--divider mt-4\"></div>\n      <div class=\"form mt-8\">\n        <!-- Name -->\n        <div class=\"billing--theme label\">\n          <label> Name </label> <span style=\"color:red\">*</span>\n            <input \n              type=\"text\"\n              required\n              class=\"billing--input mt-2\"\n              v-model=\"form.name\"\n              placeholder=\"First Name Last Name\" />\n            <i v-if=\"nameError\"><span style=\"color:red\"> Invalid Name </span></i>  \n        </div>\n        <!-- Email -->\n        <div class=\"billing--theme label mt-8\">\n          <label> Email </label> <span style=\"color:red\">*</span>\n          <input \n            type=\"email\"\n            required\n            class=\"billing--input mt-2\"\n            v-model=\"form.email\"\n            placeholder=\"mbilalanjummba@gmail.com\" />\n          <i v-if=\"emailError\"><span style=\"color:red\"> Invalid Email </span></i>  \n        </div>\n        <!-- phone -->\n        <div class=\"billing--theme label mt-8\">\n          <label> Phone </label>\n          <input \n            type=\"number\"\n            class=\"billing--input mt-2\"\n            v-model=\"form.phone\"\n            placeholder=\"+923075376602\" />\n          <i v-if=\"phoneError\"><span style=\"color:red\"> Invalid Phone Number </span></i>  \n        </div>\n        <div class=\"billing--theme label mt-8\">\n          <label> Attende </label>\n        </div>\n        <div \n          class=\"flex justify-between align-center billing--theme label mt-3\"\n          v-for=\"(attende, index) in attendes\"\n          :key=\"index\">\n          <label>{{ index + 1 }} </label> <span style=\"color:red\">*</span>\n          <input \n            type=\"text\"\n            class=\"billing--input attende mt-2\"\n            v-model=\"attende.name\"\n            placeholder=\"First Name Last Name\" />\n        </div>\n        <div class=\"flex justify-end align-center my-3\">\n          <img src=\"../assets/add.png\" alt=\"add\" class=\"mr-2 cp\" @click=\"addAttende\" />\n          <span class=\"billing--theme add cp\" @click=\"addAttende\">Add Attende </span>\n        </div>\n        <div class=\"billing--divider mt-8\"></div>\n        <div class=\"flex justify-between align-center mt-8\">\n          <div :disabled=\"disabeled || nameError || emailError\" class=\"cp button button--primary\" @click=\"book\">\n            Book Tickets\n          </div>\n          <div class=\"cp button button--cancel\" @click=\"cancel\">\n            Cancel\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nexport default {\n  data () {\n    return {\n      form: {},\n      disabeled: false,\n      attendes: [{\n        name: ''\n      }]\n    }\n  },\n  created () {\n    this.fetchEvents()\n  },\n  computed: {\n    ...mapGetters({\n      events: 'eventsList'\n    }),\n\n    event () {\n      return this.events.find(e => e.id == this.$route.params.id)\n    },\n    nameError () {\n      if(this.form.name) {\n        return /[0-9]/.test(this.form.name)\n      }\n      return false\n    },\n    emailError () {\n      if(this.form.email) {\n        return !(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.form.email))\n      }\n      return false\n    },\n    phoneError () {\n      if(this.form.phone) {\n        return this.form.phone.length > 13\n      }\n      return false\n    }\n  },\n  methods: {\n    ...mapActions({\n      fetchEvents: 'fetchEvents'\n    }),\n    addAttende () {\n      if(this.attendes.length <= this.event.tickets) {\n        if(this.attendes[this.attendes.length-1].name) {\n          this.attendes.push({\n            name: ''\n          })\n        } else {\n          this.disabeled = true\n          alert('please fill last attende Name')\n        }\n      } else {\n        this.disabeled = true\n        alert('No Enough Tickets')\n      }\n    },\n    book () {\n      console.log(this.attendes)\n      if(!this.nameError && !this.email && this.attendes.map(a => a.name == '').includes(false)) {\n        alert('your tickets have been booked')\n        this.$router.push('/')\n      } else {\n        alert('Fill red * fields')\n      }\n    },\n    cancel () {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n<style scoped>\n.billing {\n  display: flex;\n  justify-content: center;\n}\n.billing--container {\n  background: #FFFFFF;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  margin-top: 56px;\n  margin-bottom: 56px;\n  padding: 32px;\n  width: 510px;\n}\n.billing--theme {\n  font-style: normal;\n  text-align: center;\n  text-transform: capitalize;\n  color: #212121;\n}\n.title {\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 27px;\n}\n.date-ticket {\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 20px;\n}\n.ticket--count {\n  color: #FC732F;\n}\n.billing--divider {\n  width: 100%;\n  border: 1px solid #D5D5D5;\n}\n.label {\n  text-align: left;\n}\n.billing--input {\n  border: 1px solid #D5D5D5;\n  box-sizing: border-box;\n  border-radius: 4px;\n  padding: 16px;\n  width: 100%;\n}\n.billing--input::placeholder {\n  font-style: normal;\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 20px;\n  text-transform: capitalize;\n  color: #999999;\n}\n.attende {\n  width: 90%;\n}\n.add {\n  font-weight: bold;\n  color: #FC732F;\n}\n.button {\n  border-radius: 4px;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 18px;\n  text-transform: capitalize;\n  padding: 16px 71px;\n}\n.button--primary {\n  background: #FC732F;\n  border: 2px solid #FC732F;\n  color: #FFFFFF; \n}\n.button--cancel {\n  background: #FFFFFF;\n  border: 2px solid #FC732F;\n  color: #FC732F; \n}\n</style>"]}]}